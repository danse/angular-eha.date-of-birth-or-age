!function(){"use strict";var a=angular.module("eha.date-of-birth-or-age.directive",[]);a.directive("ehaDateOfBirthOrAge",["ehaDateOfBirthOrAgeService",function(a){return{restrict:"E",templateUrl:"templates/date-of-birth-or-age.directive.tpl.html",scope:{model:"=model"},link:function(b){b.days=a.getDays(),b.months=a.getMonths(),b.years=a.getYears(),b.getAgeFromDob=function(){"number"==typeof b.model.birthMonth&&"number"==typeof b.model.birthYear&&(b.model.age=a.getAgeFromBirthDate(b.model.birthYear,b.model.birthMonth,b.model.birthDay))},b.getDobFromAge=function(){if("number"==typeof b.model.age.years||"number"==typeof b.model.age.months){var c=a.getBirthDateFromAge(b.model.age.years,b.model.age.months);b.model.birthYear=c.year,b.model.birthMonth=c.month}}}}}]),"undefined"!=typeof module&&module.exports&&(module.exports=a)}(),function(){"use strict";var a=angular.module("eha.date-of-birth-or-age.service",[]);a.value("moment",window&&window.moment||{}),a.service("ehaDateOfBirthOrAgeService",["$locale","moment",function(a,b){for(var c=b().format("M"),d=b().format("YYYY"),e=b().subtract(1,"month"),f=a.DATETIME_FORMATS.MONTH,g=[],h=1;31>=h;h++)g.push(h);for(var i=[],j=d;j>=1920;j--)i.push(j);this.getMonths=function(){return f},this.getDays=function(){return g},this.getYears=function(){return i},this.getBirthDateFromAge=function(a,c){c=c||0,a=a||0;var d=b().subtract(b().days(),"days").subtract(c,"months").subtract(a,"year");return{year:d.year(),month:d.months()+1}},this.getAgeFromBirthDate=function(a,f,g){var h=a||d,i=f||c,j=g||b().date();if(!(h>d||h===d&&i>c)){var k=b([h,i,j]).unix(),l=e.unix(),m=b.duration(l-k,"seconds"),n=m.days(),o=2;return n>0&&(o+=Math.round(n/31)),{years:m.years(),months:m.months()+o}}}}]),"undefined"!=typeof module&&module.exports&&(module.exports=a)}(),function(){var a=angular.module("eha.date-of-birth-or-age",["eha.date-of-birth-or-age.directive","eha.date-of-birth-or-age.service"]);"undefined"!=typeof module&&module.exports&&(module.exports=a)}();